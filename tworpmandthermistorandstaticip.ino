#include <Arduino.h>
#include <WiFi.h>
#include <AsyncTCP.h>
#include <ESPAsyncWebServer.h>
// spiffs makes the file system 
#include "SPIFFS.h"
#include <Arduino_JSON.h>   
#include <stdio.h>

//TAKEN FROM https://randomnerdtutorials.com/esp32-websocket-server-sensor/

//thermistor instantitations 
bool esp32 = true;       // change to false when using Arduino

int ThermistorPin;
double adcMax, Vs;

double R1 = 10000.0;   // voltage divider resistor value
double Beta = 3950.0;  // Beta value
double To = 298.15;    // Temperature in Kelvin for 25 degree Celsius
double Ro = 10000.0;   // Resistance of Thermistor at 25 degree Celsius

// The ESP32 lookup table varies from device to device, use the program from 
// https://github.com/e-tinkers/esp32-adc-calibrate
// to generate lookup table for your own ESP32
const float ADC_LUT[4096] PROGMEM = { 0,
32.8000,34.0000,35.4000,36.8000,38.0000,39.2000,40.8000,41.8000,43.0000,44.6000,45.8000,47.0000,48.4000,49.8000,50.8000,
52.0000,53.2000,54.6000,55.8000,57.0000,58.0000,59.6000,60.8000,62.0000,63.0000,64.4000,65.4000,66.6000,67.8000,68.8000,
69.8000,70.8000,71.8000,73.0000,74.0000,75.0000,76.0000,77.0000,78.0000,79.2000,80.4000,81.8000,83.4000,84.8000,86.2000,
87.8000,89.0000,90.8000,92.0000,93.8000,95.0000,96.4000,97.2000,98.2000,99.2000,100.0000,101.0000,102.0000,103.0000,104.0000,
105.0000,106.0000,107.0000,108.0000,108.8000,109.8000,110.8000,111.8000,112.8000,114.0000,115.2000,116.6000,117.8000,119.0000,120.0000,
121.2000,122.6000,123.8000,125.0000,126.0000,127.4000,128.6000,129.8000,130.8000,131.8000,132.8000,133.8000,135.0000,136.0000,137.0000,
138.0000,139.0000,140.0000,141.2000,142.4000,143.4000,144.6000,145.8000,146.8000,147.8000,149.0000,150.0000,151.0000,152.0000,153.2000,
154.4000,155.6000,156.8000,157.8000,158.8000,160.0000,161.0000,162.0000,163.2000,164.4000,165.6000,166.8000,167.8000,169.0000,170.0000,
171.0000,172.2000,173.4000,174.6000,175.8000,176.8000,177.8000,178.8000,179.8000,180.8000,181.8000,182.8000,183.8000,184.8000,185.8000,
186.8000,187.8000,188.8000,189.8000,190.8000,191.8000,193.0000,194.8000,196.8000,198.2000,200.0000,201.8000,203.4000,205.0000,206.8000,
208.4000,209.0000,210.0000,211.0000,211.8000,212.8000,213.6000,214.4000,215.0000,216.0000,217.0000,217.8000,218.8000,219.6000,220.4000,
221.0000,222.0000,223.0000,223.8000,225.0000,226.0000,227.6000,228.8000,230.0000,231.4000,232.8000,234.0000,235.0000,236.6000,237.8000,
239.0000,240.2000,241.2000,242.2000,243.4000,244.4000,245.4000,246.4000,247.4000,248.4000,249.4000,250.4000,251.4000,252.4000,253.6000,
254.6000,255.6000,256.8000,257.8000,259.0000,260.2000,261.8000,262.8000,264.0000,265.4000,266.8000,267.8000,269.0000,270.4000,271.8000,
272.8000,273.8000,274.8000,276.0000,277.0000,278.0000,279.0000,280.0000,281.0000,282.0000,283.2000,284.2000,285.4000,286.4000,287.6000,
288.6000,289.2000,290.0000,291.0000,292.0000,292.8000,293.8000,294.6000,295.4000,296.0000,297.0000,298.0000,298.8000,299.8000,300.6000,
301.4000,302.2000,303.0000,304.0000,305.8000,307.8000,310.0000,312.0000,314.0000,316.0000,318.0000,320.0000,321.0000,321.8000,322.4000,
323.0000,323.8000,324.8000,325.2000,326.0000,326.8000,327.6000,328.0000,329.0000,329.8000,330.4000,331.0000,331.8000,332.6000,333.2000,
334.0000,334.8000,335.4000,336.0000,337.8000,339.4000,341.0000,342.8000,344.2000,345.8000,347.6000,349.0000,350.8000,352.2000,353.2000,
354.4000,355.4000,356.4000,357.4000,358.4000,359.4000,360.4000,361.4000,362.6000,363.6000,364.6000,365.6000,366.6000,367.6000,368.8000,
370.0000,371.6000,372.8000,374.0000,375.8000,377.0000,378.4000,379.8000,381.0000,382.8000,384.0000,385.0000,386.0000,387.0000,387.8000,
388.8000,389.8000,390.8000,391.8000,392.8000,393.8000,394.6000,395.6000,396.4000,397.4000,398.2000,399.2000,400.0000,401.8000,403.0000,
404.6000,406.0000,407.4000,408.8000,410.0000,411.8000,413.0000,414.6000,416.0000,417.0000,417.8000,418.8000,419.8000,420.8000,421.6000,
422.4000,423.2000,424.0000,425.0000,426.0000,426.8000,427.8000,428.8000,429.8000,430.6000,431.4000,432.4000,433.8000,434.8000,436.0000,
437.2000,438.6000,439.8000,441.0000,442.0000,443.4000,444.8000,445.8000,447.0000,448.2000,449.6000,450.8000,451.8000,453.0000,454.0000,
455.0000,456.4000,457.6000,458.8000,459.8000,461.0000,462.0000,463.2000,464.6000,465.6000,466.8000,467.8000,468.8000,469.8000,470.8000,
471.8000,472.8000,474.0000,475.0000,476.0000,477.0000,478.0000,479.0000,480.0000,481.4000,482.8000,483.8000,485.0000,486.0000,487.2000,
488.6000,489.8000,490.8000,492.0000,493.0000,494.4000,495.8000,496.8000,497.8000,498.8000,499.8000,500.6000,501.6000,502.6000,503.4000,
504.4000,505.4000,506.2000,507.2000,508.2000,509.0000,510.0000,511.0000,512.0000,513.4000,514.8000,516.0000,517.2000,518.8000,519.8000,
521.0000,522.6000,523.8000,525.0000,526.4000,527.8000,529.0000,530.0000,531.4000,532.8000,533.8000,535.0000,536.0000,537.6000,538.8000,
540.0000,541.0000,542.2000,543.8000,544.8000,545.8000,546.8000,547.6000,548.6000,549.4000,550.4000,551.2000,552.2000,553.0000,554.0000,
555.0000,556.0000,557.0000,558.0000,559.0000,559.8000,560.8000,561.8000,562.8000,563.8000,564.8000,565.8000,566.8000,567.8000,568.8000,
570.0000,571.0000,572.0000,573.0000,574.0000,575.0000,576.0000,577.2000,578.8000,580.0000,581.8000,583.0000,584.6000,586.0000,587.4000,
588.8000,590.2000,591.8000,592.8000,593.6000,594.2000,595.0000,595.8000,596.8000,597.4000,598.0000,599.0000,599.8000,600.6000,601.2000,
602.0000,602.8000,603.8000,604.4000,605.0000,606.0000,606.8000,607.6000,608.2000,609.6000,610.8000,611.8000,613.0000,614.0000,615.0000,
616.2000,617.6000,618.8000,619.8000,621.0000,622.0000,623.0000,624.2000,625.0000,626.0000,627.0000,628.0000,628.8000,629.8000,630.8000,
631.6000,632.4000,633.2000,634.0000,635.0000,636.0000,637.0000,637.8000,638.8000,639.8000,640.8000,642.0000,643.8000,645.2000,646.8000,
648.2000,649.8000,651.2000,652.8000,654.2000,655.8000,657.0000,658.0000,659.0000,660.0000,661.0000,662.0000,663.0000,664.0000,665.0000,
665.8000,666.8000,667.8000,668.8000,669.8000,670.8000,671.8000,673.0000,674.4000,675.8000,677.0000,678.2000,679.8000,680.8000,682.0000,
683.6000,684.8000,686.0000,687.4000,688.8000,689.8000,690.8000,691.8000,693.0000,694.0000,695.0000,696.0000,697.0000,698.2000,699.4000,
700.6000,701.6000,702.8000,703.8000,704.8000,705.8000,706.8000,707.8000,708.8000,709.8000,710.8000,711.8000,712.8000,713.6000,714.6000,
715.6000,716.6000,717.6000,718.4000,719.4000,720.6000,721.8000,723.0000,724.0000,725.4000,726.8000,727.8000,729.0000,730.2000,731.6000,
732.8000,734.0000,735.0000,736.4000,737.8000,738.8000,740.0000,741.0000,742.2000,743.4000,744.8000,745.8000,747.0000,748.0000,749.2000,
750.6000,751.8000,752.8000,754.0000,755.4000,756.8000,757.8000,759.0000,760.2000,761.6000,762.8000,764.0000,765.0000,766.6000,767.8000,
768.8000,769.8000,770.8000,771.8000,772.8000,773.8000,774.8000,775.6000,776.6000,777.4000,778.4000,779.4000,780.2000,781.2000,782.2000,
783.0000,784.0000,785.8000,787.0000,788.8000,790.0000,791.6000,793.0000,794.4000,796.0000,797.4000,798.8000,800.2000,801.0000,802.0000,
803.0000,803.8000,804.8000,805.8000,806.6000,807.4000,808.2000,809.0000,810.0000,811.0000,811.8000,812.8000,813.8000,814.6000,815.2000,
816.0000,817.4000,818.6000,819.8000,820.8000,821.8000,823.0000,824.0000,825.0000,826.2000,827.4000,828.6000,829.8000,830.8000,831.8000,
833.0000,834.0000,835.0000,836.0000,837.2000,838.4000,839.6000,840.8000,841.8000,842.8000,843.8000,845.0000,846.0000,847.0000,848.2000,
849.0000,850.0000,851.0000,852.0000,853.0000,854.0000,855.0000,856.0000,857.0000,858.0000,859.0000,860.0000,861.0000,862.0000,862.8000,
863.8000,865.0000,866.8000,868.0000,869.6000,871.0000,872.6000,874.0000,875.4000,876.8000,878.2000,879.8000,881.0000,882.0000,882.8000,
883.8000,884.8000,885.8000,886.8000,887.8000,888.8000,889.8000,890.8000,891.8000,892.8000,893.8000,894.8000,895.8000,896.8000,898.0000,
899.4000,900.8000,902.0000,903.2000,904.6000,905.8000,907.0000,908.2000,909.8000,910.8000,912.0000,913.0000,914.0000,915.0000,915.8000,
916.8000,917.8000,918.8000,919.6000,920.4000,921.4000,922.2000,923.0000,924.0000,925.0000,926.0000,926.8000,927.8000,929.0000,930.0000,
931.6000,932.8000,934.0000,935.6000,936.8000,938.0000,939.4000,940.8000,942.0000,943.2000,944.6000,945.8000,946.8000,947.8000,948.8000,
949.8000,951.0000,952.0000,953.0000,954.0000,955.0000,956.2000,957.4000,958.6000,959.6000,960.6000,961.4000,962.2000,963.0000,964.0000,
965.0000,965.8000,966.8000,967.8000,968.6000,969.4000,970.2000,971.0000,972.0000,973.0000,973.8000,974.8000,975.8000,976.8000,978.2000,
979.8000,981.0000,982.8000,984.0000,985.8000,987.0000,988.8000,990.0000,991.6000,992.8000,993.8000,994.8000,995.8000,996.8000,998.0000,
999.0000,1000.0000,1001.0000,1002.0000,1003.0000,1004.0000,1005.0000,1006.0000,1007.0000,1008.0000,1008.8000,1009.6000,1010.0000,1010.8000,1011.2000,
1012.0000,1012.6000,1013.0000,1013.8000,1014.4000,1015.0000,1015.8000,1016.0000,1016.8000,1017.6000,1018.0000,1018.8000,1019.2000,1020.0000,1020.8000,
1021.0000,1021.8000,1022.4000,1023.0000,1023.8000,1024.2000,1025.8000,1027.0000,1028.6000,1030.0000,1031.2000,1032.8000,1034.0000,1035.6000,1037.0000,
1038.2000,1039.8000,1040.8000,1041.8000,1042.8000,1043.6000,1044.4000,1045.2000,1046.0000,1047.0000,1048.0000,1049.0000,1049.8000,1050.8000,1051.8000,
1052.6000,1053.4000,1054.2000,1055.0000,1056.0000,1057.4000,1058.8000,1060.0000,1061.2000,1062.6000,1063.8000,1065.0000,1066.4000,1067.8000,1069.0000,
1070.2000,1071.8000,1072.8000,1073.8000,1074.8000,1075.6000,1076.6000,1077.4000,1078.4000,1079.2000,1080.0000,1081.0000,1082.0000,1083.0000,1084.0000,
1085.0000,1086.0000,1086.8000,1087.8000,1089.0000,1090.0000,1091.6000,1092.8000,1094.0000,1095.4000,1096.8000,1098.0000,1099.0000,1100.6000,1101.8000,
1103.0000,1104.4000,1105.6000,1106.8000,1107.8000,1109.0000,1110.0000,1111.4000,1112.6000,1113.8000,1114.8000,1116.0000,1117.0000,1118.4000,1119.6000,
1120.8000,1121.8000,1122.6000,1123.6000,1124.6000,1125.4000,1126.4000,1127.4000,1128.2000,1129.2000,1130.2000,1131.0000,1132.0000,1133.0000,1134.0000,
1135.0000,1136.0000,1137.0000,1138.0000,1139.0000,1140.2000,1141.4000,1142.4000,1143.6000,1144.6000,1145.8000,1146.8000,1147.8000,1148.8000,1149.8000,
1150.8000,1152.0000,1152.8000,1153.6000,1154.0000,1155.0000,1155.8000,1156.6000,1157.0000,1158.0000,1158.8000,1159.4000,1160.0000,1161.0000,1161.8000,
1162.4000,1163.0000,1163.8000,1164.8000,1165.4000,1166.0000,1166.8000,1167.8000,1168.4000,1169.6000,1170.8000,1171.8000,1172.8000,1173.8000,1175.0000,
1176.0000,1177.0000,1178.0000,1179.2000,1180.4000,1181.6000,1182.8000,1183.8000,1184.8000,1186.0000,1187.0000,1188.0000,1189.2000,1190.6000,1191.8000,
1192.8000,1193.8000,1195.0000,1196.0000,1197.0000,1198.4000,1199.6000,1200.8000,1201.8000,1203.0000,1204.0000,1205.4000,1206.8000,1207.8000,1209.0000,
1210.0000,1211.2000,1212.6000,1213.8000,1214.8000,1216.0000,1217.0000,1218.0000,1219.0000,1220.0000,1221.0000,1222.0000,1223.0000,1224.2000,1225.2000,
1226.2000,1227.2000,1228.4000,1229.4000,1230.4000,1231.4000,1232.8000,1234.0000,1235.6000,1237.0000,1238.6000,1240.0000,1241.6000,1243.0000,1244.4000,
1246.0000,1247.4000,1248.8000,1249.8000,1250.8000,1251.8000,1252.8000,1253.8000,1254.8000,1255.8000,1256.8000,1257.8000,1258.8000,1259.8000,1261.0000,
1262.0000,1263.0000,1264.0000,1265.0000,1265.8000,1266.8000,1267.8000,1268.8000,1269.8000,1270.8000,1271.8000,1272.8000,1273.6000,1274.6000,1275.4000,
1276.4000,1277.2000,1278.2000,1279.0000,1280.0000,1281.2000,1282.4000,1283.6000,1284.8000,1285.8000,1286.8000,1288.0000,1289.0000,1290.0000,1291.2000,
1292.6000,1293.8000,1294.8000,1295.8000,1297.0000,1298.2000,1299.8000,1300.8000,1302.0000,1303.4000,1304.8000,1306.0000,1307.0000,1308.6000,1309.8000,
1311.0000,1312.2000,1313.0000,1314.0000,1315.0000,1315.8000,1316.8000,1317.8000,1318.6000,1319.2000,1320.0000,1321.0000,1322.0000,1322.8000,1323.8000,
1324.8000,1325.6000,1326.4000,1327.2000,1328.0000,1329.4000,1330.8000,1331.8000,1333.0000,1334.4000,1335.8000,1336.8000,1338.0000,1339.4000,1340.8000,
1342.0000,1343.0000,1344.6000,1346.0000,1347.8000,1349.0000,1350.8000,1352.0000,1353.8000,1355.2000,1356.8000,1358.6000,1360.0000,1360.8000,1361.8000,
1362.2000,1363.0000,1363.8000,1364.6000,1365.2000,1366.0000,1366.8000,1367.6000,1368.0000,1369.0000,1369.8000,1370.4000,1371.0000,1371.8000,1372.8000,
1373.4000,1374.0000,1374.8000,1375.8000,1376.4000,1377.8000,1379.0000,1380.4000,1381.8000,1383.0000,1384.2000,1385.8000,1387.0000,1388.2000,1389.8000,
1391.0000,1392.0000,1393.0000,1394.0000,1395.0000,1395.8000,1396.8000,1397.8000,1398.8000,1399.6000,1400.4000,1401.2000,1402.0000,1403.0000,1404.0000,
1405.0000,1405.8000,1406.8000,1407.8000,1408.8000,1410.0000,1411.4000,1412.8000,1414.0000,1415.2000,1416.8000,1418.0000,1419.2000,1420.8000,1422.0000,
1423.2000,1424.8000,1425.8000,1426.8000,1428.0000,1429.0000,1430.0000,1431.2000,1432.4000,1433.6000,1434.8000,1435.8000,1436.8000,1438.0000,1439.0000,
1440.0000,1441.2000,1442.4000,1443.6000,1444.6000,1445.8000,1446.8000,1447.8000,1448.8000,1450.0000,1451.0000,1452.0000,1453.0000,1454.2000,1455.4000,
1456.6000,1457.4000,1458.4000,1459.4000,1460.2000,1461.2000,1462.2000,1463.0000,1464.0000,1465.0000,1466.0000,1467.0000,1468.0000,1469.0000,1470.0000,
1471.0000,1471.8000,1472.8000,1474.0000,1475.0000,1476.0000,1477.0000,1478.0000,1479.0000,1480.0000,1481.0000,1482.0000,1483.0000,1484.0000,1485.0000,
1486.0000,1487.0000,1488.0000,1489.2000,1490.6000,1491.8000,1493.0000,1494.0000,1495.2000,1496.6000,1497.8000,1498.8000,1500.0000,1501.0000,1502.4000,
1503.8000,1505.0000,1506.0000,1507.8000,1509.0000,1510.2000,1511.8000,1513.0000,1514.2000,1515.8000,1517.0000,1518.4000,1519.8000,1520.8000,1521.8000,
1522.8000,1523.8000,1524.8000,1525.8000,1526.8000,1527.6000,1528.6000,1529.6000,1530.4000,1531.4000,1532.4000,1533.2000,1534.2000,1535.0000,1536.0000,
1537.4000,1538.8000,1539.8000,1541.0000,1542.0000,1543.4000,1544.8000,1545.8000,1547.0000,1548.0000,1549.4000,1550.8000,1551.8000,1553.0000,1554.2000,
1555.8000,1556.8000,1558.0000,1559.4000,1560.8000,1562.0000,1563.2000,1564.6000,1565.8000,1567.0000,1568.2000,1569.0000,1569.8000,1570.4000,1571.0000,
1571.8000,1572.6000,1573.0000,1573.8000,1574.8000,1575.2000,1576.0000,1576.8000,1577.4000,1578.0000,1578.8000,1579.6000,1580.0000,1580.8000,1581.8000,
1582.2000,1583.0000,1583.8000,1584.8000,1586.2000,1588.0000,1589.8000,1591.0000,1592.8000,1594.6000,1596.0000,1597.8000,1599.4000,1600.8000,1601.8000,
1602.8000,1603.8000,1604.8000,1605.8000,1607.0000,1608.0000,1609.0000,1610.0000,1611.0000,1612.0000,1613.0000,1614.0000,1615.0000,1616.0000,1617.2000,
1618.4000,1619.6000,1620.8000,1621.8000,1623.0000,1624.0000,1625.0000,1626.2000,1627.4000,1628.8000,1629.8000,1630.8000,1632.0000,1633.0000,1634.6000,
1635.8000,1637.0000,1638.2000,1639.6000,1640.8000,1642.0000,1643.2000,1644.8000,1645.8000,1647.0000,1648.4000,1649.4000,1650.6000,1651.6000,1652.8000,
1653.8000,1654.8000,1655.8000,1656.8000,1657.8000,1658.8000,1660.0000,1661.0000,1662.0000,1663.0000,1664.0000,1665.0000,1666.0000,1667.0000,1668.0000,
1669.0000,1670.0000,1671.0000,1672.0000,1673.0000,1674.0000,1675.0000,1676.0000,1677.0000,1678.0000,1679.0000,1680.0000,1681.0000,1682.0000,1683.0000,
1684.2000,1685.4000,1686.6000,1687.6000,1688.8000,1689.8000,1690.8000,1692.0000,1693.0000,1694.0000,1695.0000,1696.2000,1697.0000,1698.0000,1698.8000,
1699.8000,1700.6000,1701.4000,1702.0000,1703.0000,1704.0000,1704.8000,1705.8000,1706.6000,1707.2000,1708.0000,1709.0000,1709.8000,1710.8000,1711.8000,
1712.6000,1713.8000,1714.8000,1716.0000,1717.0000,1718.4000,1719.8000,1720.8000,1722.0000,1723.0000,1724.2000,1725.6000,1726.8000,1727.8000,1728.8000,
1729.8000,1730.8000,1731.8000,1732.8000,1733.8000,1734.8000,1735.8000,1736.8000,1737.8000,1738.8000,1739.8000,1740.8000,1741.8000,1742.8000,1743.8000,
1744.8000,1746.0000,1747.0000,1748.2000,1749.6000,1750.8000,1751.8000,1753.0000,1754.0000,1755.4000,1756.8000,1757.8000,1759.0000,1760.0000,1761.2000,
1762.6000,1763.8000,1764.8000,1766.0000,1767.0000,1768.2000,1769.6000,1770.8000,1771.8000,1773.0000,1774.0000,1775.2000,1776.6000,1777.8000,1778.8000,
1779.8000,1781.0000,1782.0000,1783.2000,1784.4000,1785.8000,1786.8000,1787.8000,1789.0000,1790.0000,1791.2000,1792.2000,1793.0000,1793.8000,1794.8000,
1795.4000,1796.0000,1796.8000,1797.8000,1798.4000,1799.0000,1799.8000,1800.8000,1801.4000,1802.0000,1802.8000,1803.8000,1804.4000,1805.0000,1805.8000,
1806.8000,1807.4000,1808.0000,1809.2000,1810.6000,1811.8000,1813.0000,1814.0000,1815.4000,1816.8000,1817.8000,1819.0000,1820.2000,1821.6000,1822.8000,
1824.0000,1825.0000,1826.6000,1827.8000,1829.0000,1830.4000,1831.8000,1833.0000,1834.0000,1835.6000,1836.8000,1838.0000,1839.4000,1840.6000,1841.4000,
1842.2000,1843.0000,1844.0000,1845.0000,1845.8000,1846.8000,1847.8000,1848.6000,1849.4000,1850.2000,1851.0000,1852.0000,1853.0000,1854.0000,1854.8000,
1855.8000,1857.0000,1858.8000,1860.4000,1862.0000,1864.0000,1865.8000,1867.4000,1869.0000,1870.8000,1872.4000,1873.2000,1874.2000,1875.0000,1876.0000,
1877.0000,1878.0000,1879.0000,1879.8000,1880.8000,1881.8000,1882.8000,1883.8000,1884.6000,1885.6000,1886.4000,1887.2000,1888.2000,1889.6000,1890.8000,
1892.0000,1893.2000,1894.6000,1895.8000,1897.0000,1898.2000,1899.6000,1900.8000,1902.0000,1903.2000,1904.6000,1905.8000,1906.8000,1907.8000,1908.8000,
1910.0000,1911.0000,1912.0000,1913.0000,1914.2000,1915.2000,1916.4000,1917.6000,1918.8000,1919.8000,1920.8000,1922.0000,1923.2000,1924.6000,1925.8000,
1926.8000,1928.0000,1929.2000,1930.6000,1931.8000,1933.0000,1934.0000,1935.2000,1936.6000,1937.8000,1938.8000,1939.8000,1940.8000,1941.8000,1943.0000,
1944.0000,1945.0000,1946.0000,1947.0000,1948.2000,1949.4000,1950.4000,1951.6000,1952.6000,1953.6000,1954.4000,1955.2000,1956.2000,1957.0000,1958.0000,
1959.0000,1960.0000,1961.0000,1962.0000,1962.8000,1963.8000,1964.8000,1965.8000,1966.8000,1967.6000,1968.4000,1969.2000,1970.2000,1971.0000,1972.0000,
1973.0000,1973.8000,1974.8000,1975.8000,1976.8000,1977.6000,1978.4000,1979.2000,1980.0000,1981.0000,1982.0000,1982.8000,1983.8000,1985.0000,1986.2000,
1987.8000,1989.0000,1990.6000,1991.8000,1993.0000,1994.8000,1996.0000,1997.4000,1998.8000,2000.0000,2001.0000,2002.2000,2003.4000,2004.6000,2005.8000,
2006.8000,2007.8000,2008.8000,2010.0000,2011.0000,2012.0000,2013.0000,2014.2000,2015.2000,2016.6000,2017.8000,2018.8000,2020.0000,2021.2000,2022.6000,
2023.8000,2025.0000,2026.0000,2027.4000,2028.8000,2029.8000,2031.0000,2032.0000,2033.0000,2033.8000,2034.6000,2035.0000,2036.0000,2036.8000,2037.6000,
2038.0000,2039.0000,2039.8000,2040.4000,2041.0000,2042.0000,2042.8000,2043.4000,2044.0000,2045.0000,2045.8000,2046.4000,2047.0000,2048.0000,2049.0000,
2050.0000,2051.2000,2052.6001,2053.8000,2054.8000,2056.0000,2057.0000,2058.3999,2059.8000,2060.8000,2062.0000,2063.0000,2064.2000,2065.2000,2066.2000,
2067.2000,2068.2000,2069.2000,2070.2000,2071.2000,2072.2000,2073.2000,2074.2000,2075.2000,2076.2000,2077.2000,2078.2000,2079.2000,2080.2000,2081.2000,
2082.0000,2083.0000,2084.0000,2085.0000,2086.0000,2086.8000,2087.8000,2088.8000,2089.8000,2090.8000,2091.8000,2092.6001,2093.3999,2094.3999,2095.2000,
2096.2000,2097.8000,2098.8000,2100.0000,2101.3999,2102.8000,2104.0000,2105.2000,2106.8000,2107.8000,2109.0000,2110.6001,2111.8000,2113.0000,2114.0000,
2115.3999,2116.8000,2117.8000,2119.0000,2120.0000,2121.2000,2122.6001,2123.8000,2124.8000,2126.0000,2127.2000,2128.6001,2129.8000,2130.8000,2131.8000,
2133.0000,2134.0000,2135.0000,2136.3999,2137.6001,2138.8000,2139.8000,2141.0000,2142.0000,2143.0000,2144.2000,2145.3999,2146.3999,2147.6001,2148.6001,
2149.8000,2150.8000,2151.8000,2152.8000,2153.8000,2154.8000,2155.8000,2157.0000,2158.0000,2159.0000,2160.0000,2161.0000,2162.0000,2163.0000,2164.0000,
2165.2000,2166.2000,2167.3999,2168.3999,2169.6001,2170.6001,2171.8000,2172.8000,2173.8000,2174.8000,2175.8000,2176.8000,2178.0000,2179.0000,2180.2000,
2181.3999,2182.8000,2183.8000,2184.8000,2186.0000,2187.0000,2188.2000,2189.6001,2190.8000,2191.8000,2192.8000,2194.0000,2195.0000,2196.0000,2197.3999,
2198.6001,2199.8000,2200.8000,2201.8000,2203.0000,2204.0000,2205.0000,2206.2000,2207.3999,2208.6001,2209.8000,2210.8000,2211.8000,2213.0000,2214.0000,
2215.0000,2216.2000,2217.3999,2218.6001,2219.8000,2220.8000,2221.8000,2223.0000,2224.0000,2225.0000,2226.2000,2227.3999,2228.6001,2229.8000,2230.8000,
2231.8000,2233.0000,2234.0000,2235.0000,2236.2000,2237.3999,2238.6001,2239.8000,2240.8000,2241.6001,2242.3999,2243.2000,2244.0000,2245.0000,2246.0000,
2246.8000,2247.8000,2248.8000,2249.6001,2250.2000,2251.0000,2252.0000,2253.0000,2253.8000,2254.8000,2255.8000,2256.8000,2257.8000,2258.8000,2259.8000,
2260.8000,2262.0000,2263.0000,2264.0000,2265.0000,2266.2000,2267.3999,2268.3999,2269.6001,2270.8000,2271.8000,2272.8000,2273.8000,2274.8000,2275.8000,
2277.0000,2278.0000,2279.0000,2280.0000,2281.0000,2282.0000,2283.2000,2284.2000,2285.3999,2286.3999,2287.6001,2288.6001,2289.8000,2290.8000,2292.0000,
2293.0000,2294.2000,2295.6001,2296.8000,2297.8000,2299.0000,2300.0000,2301.2000,2302.6001,2303.8000,2304.8000,2305.8000,2306.8000,2307.8000,2308.8000,
2309.8000,2310.8000,2311.8000,2312.8000,2313.8000,2314.8000,2315.8000,2316.8000,2317.8000,2318.8000,2319.8000,2320.6001,2321.6001,2322.6001,2323.6001,
2324.6001,2325.6001,2326.6001,2327.6001,2328.6001,2329.6001,2330.6001,2331.6001,2332.6001,2333.6001,2334.6001,2335.6001,2336.8000,2337.8000,2339.0000,
2340.0000,2341.6001,2342.8000,2343.8000,2345.0000,2346.2000,2347.8000,2348.8000,2350.0000,2351.0000,2352.3999,2353.3999,2354.6001,2355.6001,2356.6001,
2357.6001,2358.6001,2359.6001,2360.8000,2361.8000,2362.8000,2363.8000,2364.8000,2365.8000,2366.8000,2367.8000,2369.0000,2371.0000,2373.0000,2375.0000,
2376.8000,2378.8000,2380.8000,2382.8000,2384.3999,2385.0000,2385.8000,2386.6001,2387.2000,2388.0000,2388.8000,2389.3999,2390.0000,2390.8000,2391.8000,
2392.2000,2393.0000,2393.8000,2394.6001,2395.0000,2396.0000,2396.8000,2397.3999,2398.0000,2398.8000,2399.8000,2400.3999,2401.8000,2403.0000,2404.6001,
2405.8000,2407.0000,2408.8000,2410.0000,2411.2000,2412.8000,2414.0000,2415.2000,2416.6001,2417.6001,2418.3999,2419.3999,2420.3999,2421.2000,2422.2000,
2423.0000,2424.0000,2425.0000,2426.0000,2427.0000,2428.0000,2429.0000,2430.0000,2430.8000,2431.8000,2433.0000,2434.6001,2436.0000,2437.3999,2438.8000,
2440.0000,2441.8000,2443.0000,2444.6001,2446.0000,2447.3999,2448.8000,2449.8000,2450.8000,2452.0000,2453.0000,2454.0000,2455.2000,2456.3999,2457.6001,
2458.8000,2459.8000,2460.8000,2461.8000,2463.0000,2464.0000,2465.0000,2466.0000,2467.2000,2468.2000,2469.3999,2470.3999,2471.6001,2472.6001,2473.8000,
2474.8000,2475.8000,2476.8000,2477.8000,2478.8000,2479.8000,2481.0000,2482.0000,2483.2000,2484.6001,2485.8000,2486.8000,2488.0000,2489.0000,2490.0000,
2491.3999,2492.6001,2493.8000,2494.8000,2496.0000,2497.0000,2498.0000,2499.0000,2500.0000,2501.0000,2502.0000,2503.0000,2504.0000,2505.0000,2506.0000,
2507.0000,2508.0000,2509.0000,2510.0000,2511.0000,2512.0000,2513.2000,2514.8000,2516.0000,2517.6001,2519.0000,2520.2000,2521.8000,2523.0000,2524.8000,
2526.0000,2527.3999,2528.8000,2529.8000,2531.0000,2532.0000,2533.0000,2534.2000,2535.3999,2536.6001,2537.8000,2538.8000,2539.8000,2541.0000,2542.0000,
2543.0000,2544.2000,2545.2000,2546.2000,2547.2000,2548.2000,2549.2000,2550.2000,2551.2000,2552.2000,2553.2000,2554.2000,2555.2000,2556.2000,2557.2000,
2558.2000,2559.2000,2560.2000,2561.2000,2562.2000,2563.3999,2564.3999,2565.3999,2566.3999,2567.3999,2568.3999,2569.3999,2570.3999,2571.3999,2572.3999,
2573.3999,2574.3999,2575.3999,2576.6001,2577.8000,2579.0000,2580.8000,2582.0000,2583.3999,2584.8000,2586.0000,2587.8000,2589.0000,2590.3999,2591.8000,
2592.8000,2593.8000,2594.6001,2595.3999,2596.2000,2597.0000,2598.0000,2598.8000,2599.8000,2600.8000,2601.3999,2602.2000,2603.0000,2604.0000,2604.8000,
2605.8000,2606.8000,2607.3999,2608.3999,2610.3999,2612.3999,2614.2000,2616.2000,2618.0000,2620.0000,2622.0000,2624.0000,2625.0000,2625.8000,2626.8000,
2627.8000,2628.6001,2629.2000,2630.0000,2631.0000,2632.0000,2632.8000,2633.8000,2634.6001,2635.3999,2636.0000,2637.0000,2638.0000,2638.8000,2639.8000,
2640.8000,2641.8000,2642.8000,2643.8000,2644.8000,2645.8000,2646.8000,2647.8000,2648.8000,2649.8000,2650.8000,2652.0000,2653.0000,2654.0000,2655.0000,
2656.0000,2657.0000,2658.2000,2659.3999,2660.8000,2661.8000,2662.8000,2664.0000,2665.0000,2666.2000,2667.6001,2668.8000,2669.8000,2670.8000,2672.0000,
2673.0000,2674.6001,2675.8000,2676.8000,2678.0000,2679.2000,2680.6001,2681.8000,2683.0000,2684.0000,2685.3999,2686.8000,2687.8000,2689.0000,2690.0000,
2691.2000,2692.6001,2693.8000,2694.8000,2696.0000,2697.0000,2698.2000,2699.6001,2700.8000,2701.8000,2703.0000,2704.0000,2705.0000,2706.0000,2707.0000,
2708.0000,2709.0000,2709.8000,2710.8000,2711.8000,2712.8000,2713.8000,2714.8000,2715.8000,2716.8000,2717.6001,2718.6001,2719.6001,2720.6001,2721.8000,
2722.8000,2723.8000,2725.0000,2726.0000,2727.0000,2728.2000,2729.3999,2730.6001,2731.8000,2732.8000,2733.8000,2735.0000,2736.0000,2737.0000,2738.0000,
2739.0000,2739.8000,2740.8000,2741.8000,2742.8000,2743.8000,2744.8000,2745.6001,2746.6001,2747.3999,2748.2000,2749.2000,2750.0000,2751.0000,2752.0000,
2753.6001,2754.8000,2756.2000,2757.8000,2759.0000,2760.6001,2762.0000,2763.3999,2764.8000,2766.0000,2767.8000,2768.8000,2769.8000,2771.0000,2772.0000,
2773.0000,2774.2000,2775.2000,2776.3999,2777.6001,2778.8000,2779.8000,2780.8000,2781.8000,2783.0000,2784.0000,2785.0000,2786.0000,2787.0000,2788.0000,
2789.0000,2790.0000,2791.0000,2792.0000,2793.2000,2794.2000,2795.2000,2796.2000,2797.3999,2798.3999,2799.3999,2800.6001,2801.8000,2802.8000,2803.8000,
2804.8000,2806.0000,2807.0000,2808.0000,2809.2000,2810.3999,2811.6001,2812.8000,2813.8000,2814.8000,2815.8000,2816.8000,2817.8000,2818.6001,2819.2000,
2820.0000,2821.0000,2821.8000,2822.8000,2823.8000,2824.3999,2825.2000,2826.0000,2827.0000,2827.8000,2828.8000,2829.6001,2830.2000,2831.0000,2832.0000,
2833.0000,2834.0000,2835.0000,2836.2000,2837.3999,2838.6001,2839.6001,2840.8000,2841.8000,2842.8000,2843.8000,2845.0000,2846.0000,2847.0000,2848.0000,
2849.3999,2850.6001,2851.8000,2852.8000,2854.0000,2855.0000,2856.3999,2857.8000,2858.8000,2860.0000,2861.0000,2862.2000,2863.6001,2864.8000,2865.8000,
2867.0000,2868.0000,2869.0000,2870.2000,2871.6001,2872.8000,2873.8000,2874.8000,2876.0000,2877.0000,2878.2000,2879.3999,2880.6001,2881.6001,2882.6001,
2883.6001,2884.6001,2885.6001,2886.6001,2887.3999,2888.3999,2889.3999,2890.3999,2891.3999,2892.3999,2893.3999,2894.3999,2895.2000,2896.2000,2897.3999,
2898.3999,2899.3999,2900.3999,2901.6001,2902.6001,2903.6001,2904.6001,2905.6001,2906.8000,2907.8000,2908.8000,2909.8000,2910.8000,2911.8000,2912.8000,
2914.2000,2915.8000,2917.0000,2918.6001,2919.8000,2921.2000,2922.8000,2924.0000,2925.6001,2926.8000,2928.0000,2929.0000,2929.8000,2930.8000,2931.3999,
2932.0000,2933.0000,2933.8000,2934.6001,2935.2000,2936.0000,2937.0000,2937.8000,2938.6001,2939.2000,2940.0000,2940.8000,2941.8000,2942.3999,2943.0000,
2944.0000,2945.0000,2946.2000,2947.8000,2948.8000,2950.0000,2951.0000,2952.3999,2953.8000,2954.8000,2956.0000,2957.0000,2958.3999,2959.8000,2960.8000,
2962.0000,2963.8000,2965.0000,2966.2000,2967.8000,2969.0000,2970.3999,2971.8000,2973.0000,2974.6001,2975.8000,2977.0000,2978.2000,2979.6001,2980.8000,
2982.0000,2983.0000,2984.2000,2985.8000,2986.8000,2988.0000,2989.0000,2990.3999,2991.8000,2992.8000,2993.8000,2994.8000,2996.0000,2997.0000,2998.0000,
2999.0000,3000.0000,3001.0000,3002.2000,3003.2000,3004.3999,3005.6001,3006.6001,3007.8000,3008.8000,3009.3999,3010.0000,3011.0000,3012.0000,3012.8000,
3013.8000,3014.6001,3015.2000,3016.0000,3017.0000,3017.8000,3018.8000,3019.6001,3020.3999,3021.0000,3022.0000,3022.8000,3023.8000,3024.8000,3026.0000,
3027.0000,3028.6001,3029.8000,3031.0000,3032.0000,3033.3999,3034.8000,3035.8000,3037.0000,3038.3999,3039.8000,3040.8000,3041.8000,3042.8000,3043.8000,
3044.8000,3045.8000,3046.8000,3047.8000,3048.8000,3049.8000,3050.8000,3051.8000,3052.8000,3053.8000,3054.8000,3055.8000,3056.8000,3057.0000,3057.8000,
3058.6001,3059.0000,3059.8000,3060.3999,3061.0000,3061.8000,3062.2000,3063.0000,3063.8000,3064.2000,3064.8000,3065.6001,3066.0000,3066.8000,3067.3999,
3068.0000,3068.8000,3069.3999,3070.0000,3070.8000,3071.2000,3072.0000,3072.8000,3074.0000,3075.0000,3076.0000,3077.2000,3078.3999,3079.8000,3080.8000,
3081.8000,3083.0000,3084.0000,3085.0000,3086.2000,3087.6001,3088.6001,3089.6001,3090.3999,3091.2000,3092.0000,3093.0000,3094.0000,3095.0000,3096.0000,
3096.8000,3097.8000,3098.8000,3099.8000,3100.8000,3101.6001,3102.6001,3103.3999,3104.2000,3105.3999,3106.3999,3107.3999,3108.3999,3109.6001,3110.6001,
3111.6001,3112.6001,3113.8000,3114.8000,3115.8000,3116.8000,3117.8000,3118.8000,3119.8000,3120.8000,3121.8000,3122.8000,3123.8000,3124.8000,3125.8000,
3126.6001,3127.6001,3128.6001,3129.6001,3130.3999,3131.3999,3132.3999,3133.2000,3134.2000,3135.2000,3136.2000,3137.2000,3138.3999,3139.6001,3140.8000,
3141.8000,3142.8000,3143.8000,3145.0000,3146.0000,3147.0000,3148.0000,3149.2000,3150.3999,3151.6001,3152.8000,3153.8000,3154.8000,3156.0000,3157.0000,
3158.2000,3159.6001,3160.8000,3161.8000,3163.0000,3164.0000,3165.2000,3166.3999,3167.8000,3168.8000,3169.3999,3170.0000,3171.0000,3171.8000,3172.8000,
3173.8000,3174.3999,3175.0000,3176.0000,3176.8000,3177.8000,3178.8000,3179.3999,3180.0000,3181.0000,3181.8000,3182.8000,3183.6001,3184.6001,3185.8000,
3187.0000,3188.0000,3189.6001,3190.8000,3192.0000,3193.2000,3194.6001,3195.8000,3197.0000,3198.2000,3199.8000,3200.8000,3201.8000,3203.0000,3204.0000,
3205.0000,3206.3999,3207.6001,3208.8000,3209.8000,3210.8000,3212.0000,3213.0000,3214.0000,3215.3999,3216.3999,3217.3999,3218.3999,3219.3999,3220.2000,
3221.2000,3222.2000,3223.2000,3224.0000,3225.0000,3226.0000,3227.0000,3228.0000,3229.0000,3230.0000,3231.0000,3232.0000,3232.8000,3233.8000,3234.8000,
3235.3999,3236.0000,3237.0000,3238.0000,3238.8000,3239.8000,3240.3999,3241.2000,3242.0000,3243.0000,3243.8000,3244.8000,3245.6001,3246.2000,3247.0000,
3248.0000,3249.0000,3250.2000,3251.6001,3252.8000,3254.0000,3255.0000,3256.3999,3257.8000,3258.8000,3260.0000,3261.2000,3262.6001,3263.8000,3264.8000,
3265.6001,3266.2000,3267.0000,3268.0000,3268.8000,3269.8000,3270.3999,3271.0000,3272.0000,3272.8000,3273.8000,3274.6001,3275.2000,3276.0000,3277.0000,
3277.8000,3278.6001,3279.2000,3280.0000,3281.3999,3282.8000,3283.8000,3285.0000,3286.0000,3287.3999,3288.8000,3289.8000,3291.0000,3292.2000,3293.6001,
3294.8000,3296.0000,3297.0000,3297.8000,3298.8000,3299.8000,3300.8000,3301.8000,3302.8000,3303.8000,3304.6001,3305.6001,3306.6001,3307.3999,3308.3999,
3309.2000,3310.2000,3311.0000,3312.0000,3313.0000,3313.8000,3314.8000,3315.6001,3316.3999,3317.0000,3318.0000,3318.8000,3319.8000,3320.6001,3321.3999,
3322.0000,3323.0000,3323.8000,3324.8000,3325.8000,3326.3999,3327.0000,3328.0000,3329.0000,3330.0000,3331.0000,3332.0000,3333.0000,3333.8000,3334.8000,
3335.8000,3336.8000,3337.8000,3338.8000,3339.8000,3340.8000,3341.8000,3342.8000,3343.8000,3344.6001,3345.0000,3345.8000,3346.8000,3347.2000,3348.0000,
3348.8000,3349.6001,3350.0000,3350.8000,3351.8000,3352.2000,3353.0000,3353.8000,3354.3999,3355.0000,3355.8000,3356.8000,3357.2000,3358.0000,3358.8000,
3359.3999,3360.0000,3361.0000,3361.8000,3362.6001,3363.2000,3364.0000,3365.0000,3365.8000,3366.6001,3367.2000,3368.0000,3369.0000,3369.8000,3370.6001,
3371.2000,3372.0000,3373.0000,3373.8000,3374.6001,3375.2000,3376.0000,3377.0000,3377.8000,3378.6001,3379.2000,3380.0000,3380.8000,3381.8000,3382.3999,
3383.0000,3384.0000,3384.8000,3385.6001,3386.2000,3387.0000,3387.8000,3388.8000,3389.6001,3390.0000,3391.0000,3391.8000,3392.8000,3394.0000,3395.2000,
3396.6001,3397.8000,3399.0000,3400.0000,3401.3999,3402.8000,3403.8000,3405.0000,3406.2000,3407.6001,3408.6001,3409.2000,3410.0000,3411.0000,3411.8000,
3412.6001,3413.2000,3414.0000,3415.0000,3415.8000,3416.6001,3417.2000,3418.0000,3419.0000,3419.8000,3420.6001,3421.2000,3422.0000,3423.0000,3423.8000,
3424.8000,3425.6001,3426.6001,3427.3999,3428.2000,3429.2000,3430.0000,3431.0000,3432.0000,3433.0000,3434.0000,3435.0000,3436.0000,3436.8000,3437.8000,
3438.8000,3439.8000,3440.8000,3441.3999,3442.2000,3443.0000,3444.0000,3444.8000,3445.8000,3446.6001,3447.2000,3448.0000,3449.0000,3449.8000,3450.8000,
3451.6001,3452.3999,3453.0000,3454.0000,3455.0000,3455.8000,3456.8000,3457.6001,3458.3999,3459.2000,3460.0000,3461.0000,3462.0000,3463.0000,3463.8000,
3464.8000,3465.8000,3466.6001,3467.3999,3468.2000,3469.0000,3470.0000,3471.0000,3472.0000,3472.8000,3473.8000,3474.6001,3475.2000,3476.0000,3477.0000,
3477.8000,3478.8000,3479.6001,3480.2000,3481.0000,3482.0000,3482.8000,3483.8000,3484.6001,3485.3999,3486.0000,3487.0000,3487.8000,3488.8000,3489.2000,
3490.0000,3490.8000,3491.0000,3492.0000,3492.8000,3493.0000,3493.8000,3494.6001,3495.0000,3495.8000,3496.6001,3497.0000,3497.8000,3498.6001,3499.0000,
3499.8000,3500.6001,3501.0000,3501.8000,3502.3999,3503.0000,3503.8000,3504.8000,3505.8000,3506.8000,3507.8000,3508.8000,3509.8000,3511.0000,3512.0000,
3513.0000,3514.0000,3515.0000,3516.0000,3517.2000,3518.3999,3519.3999,3520.3999,3521.0000,3522.0000,3522.8000,3523.3999,3524.0000,3525.0000,3525.8000,
3526.3999,3527.0000,3528.0000,3528.8000,3529.3999,3530.0000,3531.0000,3531.8000,3532.3999,3533.0000,3534.0000,3534.8000,3535.3999,3536.0000,3537.0000,
3537.8000,3538.8000,3539.6001,3540.3999,3541.0000,3542.0000,3542.8000,3543.8000,3544.8000,3545.3999,3546.0000,3547.0000,3548.0000,3548.8000,3549.8000,
3550.3999,3551.0000,3552.0000,3552.8000,3553.8000,3554.3999,3555.0000,3556.0000,3556.8000,3557.6001,3558.2000,3559.0000,3559.8000,3560.8000,3561.3999,
3562.0000,3563.0000,3563.8000,3564.8000,3565.2000,3566.0000,3566.8000,3567.8000,3568.3999,3569.0000,3569.8000,3570.8000,3571.2000,3572.0000,3572.8000,
3573.6001,3574.2000,3575.0000,3575.8000,3576.3999,3577.0000,3577.8000,3578.8000,3579.2000,3580.0000,3580.8000,3581.6001,3582.2000,3583.0000,3583.8000,
3584.3999,3585.0000,3586.0000,3586.8000,3587.3999,3588.0000,3589.0000,3589.8000,3590.3999,3591.0000,3592.0000,3592.8000,3593.3999,3594.0000,3595.0000,
3595.8000,3596.3999,3597.0000,3598.0000,3598.8000,3599.3999,3600.0000,3601.0000,3601.8000,3602.8000,3603.6001,3604.2000,3605.0000,3606.0000,3606.8000,
3607.8000,3608.6001,3609.2000,3610.0000,3611.0000,3611.8000,3612.8000,3613.3999,3614.2000,3615.0000,3616.0000,3616.8000,3617.3999,3618.0000,3618.8000,
3619.6001,3620.0000,3620.8000,3621.8000,3622.2000,3623.0000,3623.8000,3624.3999,3625.0000,3625.8000,3626.8000,3627.2000,3628.0000,3628.8000,3629.3999,
3630.0000,3630.8000,3631.6001,3632.0000,3633.0000,3633.8000,3634.2000,3635.0000,3635.8000,3636.3999,3637.0000,3637.8000,3638.6001,3639.0000,3639.8000,
3640.6001,3641.0000,3642.0000,3642.8000,3643.2000,3644.0000,3644.8000,3645.3999,3646.0000,3646.8000,3647.6001,3648.0000,3649.0000,3649.8000,3650.2000,
3651.0000,3651.8000,3652.3999,3653.0000,3653.8000,3654.8000,3655.2000,3656.0000,3656.8000,3657.3999,3658.0000,3658.8000,3659.6001,3660.0000,3661.0000,
3661.8000,3662.2000,3663.0000,3663.8000,3664.6001,3665.3999,3666.2000,3667.0000,3668.0000,3669.0000,3669.8000,3670.8000,3671.8000,3672.8000,3673.6001,
3674.3999,3675.0000,3676.0000,3677.0000,3678.0000,3678.8000,3679.8000,3680.3999,3681.0000,3681.3999,3682.0000,3682.3999,3682.8000,3683.3999,3683.8000,
3684.3999,3684.8000,3685.3999,3685.8000,3686.2000,3686.8000,3687.2000,3687.8000,3688.2000,3688.8000,3689.2000,3689.8000,3690.2000,3690.8000,3691.2000,
3691.8000,3692.2000,3692.8000,3693.0000,3693.8000,3694.0000,3694.8000,3695.0000,3695.8000,3696.0000,3697.0000,3698.0000,3699.0000,3700.0000,3701.0000,
3702.0000,3703.0000,3704.0000,3705.0000,3706.0000,3707.0000,3708.0000,3709.0000,3710.0000,3711.0000,3712.0000,3712.8000,3713.6001,3714.0000,3715.0000,
3715.8000,3716.3999,3717.0000,3717.8000,3718.6001,3719.0000,3720.0000,3720.8000,3721.3999,3722.0000,3722.8000,3723.6001,3724.0000,3725.0000,3725.8000,
3726.3999,3727.0000,3727.8000,3728.3999,3729.0000,3729.6001,3730.0000,3730.6001,3731.0000,3731.8000,3732.0000,3732.8000,3733.0000,3733.8000,3734.0000,
3734.8000,3735.0000,3735.8000,3736.0000,3736.8000,3737.2000,3737.8000,3738.2000,3738.8000,3739.2000,3739.8000,3740.3999,3740.8000,3741.3999,3742.0000,
3742.3999,3743.0000,3743.6001,3744.0000,3744.8000,3745.0000,3745.8000,3746.6001,3747.0000,3747.8000,3748.2000,3749.0000,3749.8000,3750.0000,3750.8000,
3751.3999,3752.0000,3752.8000,3753.2000,3754.0000,3754.8000,3755.0000,3755.8000,3756.3999,3757.0000,3757.8000,3758.2000,3759.0000,3759.8000,3760.0000,
3761.0000,3761.8000,3762.6001,3763.2000,3764.0000,3764.8000,3765.8000,3766.3999,3767.0000,3768.0000,3768.8000,3769.6001,3770.2000,3771.0000,3771.8000,
3772.8000,3773.3999,3774.0000,3775.0000,3775.8000,3776.6001,3777.0000,3777.8000,3778.0000,3778.8000,3779.3999,3780.0000,3780.6001,3781.0000,3781.8000,
3782.2000,3782.8000,3783.6001,3784.0000,3784.8000,3785.0000,3785.8000,3786.3999,3787.0000,3787.6001,3788.0000,3788.8000,3789.2000,3789.8000,3790.6001,
3791.0000,3791.8000,3792.0000,3792.8000,3793.8000,3794.2000,3795.0000,3795.8000,3796.2000,3797.0000,3797.8000,3798.3999,3799.0000,3799.8000,3800.6001,
3801.0000,3801.8000,3802.6001,3803.0000,3804.0000,3804.8000,3805.2000,3806.0000,3806.8000,3807.3999,3808.0000,3808.8000,3809.2000,3810.0000,3810.6001,
3811.0000,3811.8000,3812.3999,3813.0000,3813.8000,3814.2000,3815.0000,3815.6001,3816.0000,3816.8000,3817.3999,3818.0000,3818.8000,3819.2000,3819.8000,
3820.6001,3821.0000,3821.8000,3822.3999,3823.0000,3823.8000,3824.0000,3825.0000,3825.8000,3826.2000,3827.0000,3827.8000,3828.2000,3829.0000,3829.8000,
3830.3999,3831.0000,3831.8000,3832.3999,3833.0000,3833.8000,3834.6001,3835.0000,3835.8000,3836.6001,3837.0000,3837.8000,3838.6001,3839.0000,3839.8000,
3840.8000,3841.0000,3841.8000,3842.6001,3843.0000,3843.8000,3844.3999,3845.0000,3845.8000,3846.3999,3847.0000,3847.8000,3848.2000,3849.0000,3849.8000,
3850.0000,3850.8000,3851.6001,3852.0000,3852.8000,3853.6001,3854.0000,3854.8000,3855.3999,3856.0000,3856.8000,3857.0000,3857.8000,3858.0000,3858.8000,
3859.0000,3859.8000,3860.0000,3860.8000,3861.0000,3861.8000,3862.2000,3862.8000,3863.2000,3863.8000,3864.2000,3864.8000,3865.3999,3865.8000,3866.3999,
3867.0000,3867.3999,3868.0000,3868.6001,3869.0000,3869.6001,3870.0000,3870.6001,3871.0000,3871.8000,3872.0000,3872.8000,3873.6001,3874.0000,3874.8000,
3875.6001,3876.0000,3877.0000,3877.8000,3878.2000,3879.0000,3879.8000,3880.3999,3881.0000,3881.8000,3882.6001,3883.0000,3883.8000,3884.6001,3885.0000,
3886.0000,3886.8000,3887.2000,3888.0000,3888.6001,3889.0000,3889.3999,3889.8000,3890.2000,3890.8000,3891.0000,3891.8000,3892.0000,3892.6001,3893.0000,
3893.3999,3893.8000,3894.2000,3894.8000,3895.0000,3895.8000,3896.0000,3896.6001,3897.0000,3897.3999,3897.8000,3898.2000,3898.8000,3899.0000,3899.8000,
3900.0000,3900.6001,3901.0000,3901.3999,3901.8000,3902.2000,3902.8000,3903.0000,3903.8000,3904.0000,3904.8000,3905.2000,3906.0000,3906.8000,3907.0000,
3907.8000,3908.6001,3909.0000,3909.8000,3910.6001,3911.0000,3911.8000,3912.3999,3913.0000,3913.8000,3914.3999,3915.0000,3915.8000,3916.2000,3917.0000,
3917.8000,3918.2000,3919.0000,3919.8000,3920.0000,3920.8000,3921.6001,3922.0000,3922.8000,3923.2000,3924.0000,3924.8000,3925.0000,3925.8000,3926.3999,
3927.0000,3927.8000,3928.2000,3929.0000,3929.6001,3930.0000,3930.8000,3931.3999,3932.0000,3932.8000,3933.2000,3933.8000,3934.6001,3935.0000,3935.8000,
3936.3999,3937.0000,3937.8000,3938.6001,3939.0000,3939.8000,3940.8000,3941.2000,3942.0000,3942.8000,3943.3999,3944.0000,3944.8000,3945.6001,3946.0000,
3946.8000,3947.8000,3948.2000,3949.0000,3949.8000,3950.3999,3951.0000,3951.8000,3952.3999,3953.0000,3953.8000,3954.0000,3954.8000,3955.2000,3956.0000,
3956.6001,3957.0000,3957.8000,3958.2000,3958.8000,3959.3999,3960.0000,3960.8000,3961.0000,3961.8000,3962.3999,3963.0000,3963.6001,3964.0000,3964.8000,
3965.2000,3965.8000,3966.6001,3967.0000,3967.8000,3968.0000,3968.8000,3969.0000,3969.8000,3970.0000,3970.8000,3971.0000,3971.8000,3972.0000,3972.8000,
3973.0000,3973.8000,3974.0000,3974.8000,3975.0000,3975.8000,3976.0000,3976.6001,3977.0000,3977.6001,3978.0000,3978.6001,3979.0000,3979.6001,3980.0000,
3980.3999,3981.0000,3981.3999,3982.0000,3982.3999,3982.8000,3983.3999,3983.8000,3984.3999,3985.0000,3985.8000,3986.8000,3987.2000,3988.0000,3988.8000,
3989.3999,3990.0000,3990.8000,3991.6001,3992.0000,3993.0000,3993.8000,3994.3999,3995.0000,3995.8000,3996.6001,3997.0000,3998.0000,3998.8000,3999.2000,
4000.0000,4000.8000,4001.0000,4001.6001,4002.0000,4002.3999,4002.8000,4003.2000,4003.8000,4004.0000,4004.8000,4005.0000,4005.8000,4006.0000,4006.6001,
4007.0000,4007.3999,4007.8000,4008.2000,4008.8000,4009.2000,4009.8000,4010.0000,4010.8000,4011.0000,4011.6001,4012.0000,4012.6001,4013.0000,4013.3999,
4013.8000,4014.2000,4014.8000,4015.0000,4015.8000,4016.0000,4016.8000,4017.2000,4017.8000,4018.3999,4019.0000,4019.8000,4020.0000,4020.8000,4021.2000,
4022.0000,4022.6001,4023.0000,4023.8000,4024.0000,4024.8000,4025.3999,4026.0000,4026.8000,4027.0000,4027.8000,4028.2000,4028.8000,4029.6001,4030.0000,
4030.8000,4031.0000,4031.8000,4032.8000,4034.0000,4035.2000,4036.8000,4038.0000,4039.3999,4040.8000,4042.0000,4043.6001,4044.8000,4046.0000,4047.80
};


// RPM INSTANTIATIONS 
float leftrevolutions=0;
float rightrevolutions=0;
float leftrpm=0; // max value 32,767 16 bit
float rightrpm=0; 
long  startTime=0;
long  elapsedTime;

struct RPM{
  float left; 
  float right; 
};

// WIFI INSTANTIATIONS
const char* ssid = "Dan";
const char* password = "muanha21";

// creating an AsyncWebServer object on port 80
AsyncWebServer server(80);
//WiFiServer server(80);
//create a websocket object
AsyncWebSocket ws("/ws");

//Json variable to hold sensor readings
JSONVar readings;

// Timer variables
unsigned long lastTime = 0;
unsigned long timerDelay = 300;

//Initialize SPIFFS 
void initSPIFFS() {
  if (!SPIFFS.begin(true)) {
    Serial.println("An error has occurred while mounting SPIFFS");
  }
  Serial.println("SPIFFS mounted successfully");
}

// Initialize WiFi
void initWiFi() {
  WiFi.mode(WIFI_STA);
  //hotspot ssid and password 
  WiFi.begin(ssid, password);
  Serial.print("Connecting to WiFi ..");
  while (WiFi.status() != WL_CONNECTED) {
    Serial.println("Connecting...");
    Serial.print("Status: ");
    Serial.println(WiFi.status());
    delay(1000);
  }
  Serial.println(WiFi.localIP());
  Serial.println("Connected to WiFi");
}

void notifyClients(String sensorReadings) {
  ws.textAll(sensorReadings);
}

void handleWebSocketMessage(void *arg, uint8_t *data, size_t len) {
  AwsFrameInfo *info = (AwsFrameInfo*)arg;
  if (info->final && info->index == 0 && info->len == len && info->opcode == WS_TEXT) {
    //data[len] = 0;
    //String message = (char*)data;
    // Check if the message is "getReadings"
    //if (strcmp((char*)data, "getReadings") == 0) {
      //if it is, send current sensor readings
      String sensorReadings = getSensorReadings();
      Serial.print(sensorReadings);
      // send to data A&A function 
      notifyClients(sensorReadings);
    //}
  }
}

void onEvent(AsyncWebSocket *server, AsyncWebSocketClient *client, AwsEventType type, void *arg, uint8_t *data, size_t len) {
  switch (type) {
    case WS_EVT_CONNECT:
      Serial.printf("WebSocket client #%u connected from %s\n", client->id(), client->remoteIP().toString().c_str());
      break;
    case WS_EVT_DISCONNECT:
      Serial.printf("WebSocket client #%u disconnected\n", client->id());
      break;
    case WS_EVT_DATA:
      handleWebSocketMessage(arg, data, len);
      break;
    case WS_EVT_PONG:
    case WS_EVT_ERROR:
      break;
  }
}

void initWebSocket() {
  ws.onEvent(onEvent);
  server.addHandler(&ws);
}

RPM getRPMInterrupt(int left, int right){ //calculating using interrupts 
  RPM values; 
  leftrpm=0;
  rightrpm=0; 
  startTime=millis();  
  leftrevolutions = 0; 
    //attachInterrupt(digitalPinToInterrupt(25),leftInterrupt,RISING);  
  rightrevolutions = 0; 
    //attachInterrupt(digitalPinToInterrupt(26),rightInterrupt,RISING);  
  delay(1000);
  //detachInterrupt(2);                
  
  //now let's see how many counts we've had from the hall effect sensor and calc the RPM
  elapsedTime=millis()-startTime;     //finds the time, should be very close to 1 sec
  
    if(leftrevolutions>0){
  
    leftrpm = max(1.0f, leftrevolutions);       //calculates rpm
    leftrpm = (leftrpm * 60000) / elapsedTime; 
    }
  String outMsg = String(); 
  outMsg = String("LEFT RPM :") + leftrpm;
  Serial.println(outMsg);
  
    if(rightrevolutions>0){
  
    rightrpm = max(1.0f, rightrevolutions);       //calculates rpm
    rightrpm = (rightrpm * 60000) / elapsedTime; 
    } 
  outMsg = String("RIGHT RPM :") + rightrpm;
  Serial.println(outMsg);
  values.left = leftrpm; 
  values.right = rightrpm; 
  
  return values;  
}

float getTemp(){
  double Vout, Rt = 0;
  double T, Tc, Tf = 0;

  double adc = 0;
  if (esp32) {
    adc = analogRead(ThermistorPin);
    adc = ADC_LUT[(int)adc];
  }
  else {
    adc = analogRead(ThermistorPin);
  }
  Vout = adc * Vs/adcMax;
  Rt = R1 * Vout / (Vs - Vout);

  T = 1/(1/To + log(Rt/Ro)/Beta);    // Temperature in Kelvin
  Tc = T - 273.15;                   // Celsius
  Tf = Tc * 9 / 5 + 32;              // Fahrenheit
  if (Tc > 0) {
    Serial.println(Tc);
    return Tc; 
  }

  //delay(2000);
}


String getSensorReadings(){
  RPM value = getRPMInterrupt(25,26);
  readings["RIGHT RPM"] = String(value.right);
  readings["LEFT RPM"] = String(value.left);
  readings["temperature"] = String(getTemp()); 
  String jsonString = JSON.stringify(readings);
  Serial.println("JSON STRING");
  Serial.println(jsonString);
  return jsonString;
}

void leftInterrupt() {
    // Handle data or actions related to the left interrupt pin
    //Serial.println("Interrupt from left pin");
    leftrevolutions++;
}

void rightInterrupt() {
    // Handle data or actions related to the left interrupt pin
    //Serial.println("Interrupt from left pin");
    rightrevolutions++;
}

void setup() {
  Serial.begin(115200);
  if (esp32) {
    ThermistorPin = 39;
    adcMax = 4095.0; // ADC resolution 12-bit (0-4095)
    Vs = 3.3;        // supply voltage
  }
  else {
    ThermistorPin = A0;
    adcMax = 1023.0; // ADC resolution 10-bit (0-1023)
    Vs = 5.0;          // supply voltage
  }
  initWiFi();
  initSPIFFS();
  initWebSocket();
  pinMode(25, INPUT);           // set pin to input LEFT
  pinMode(26, INPUT); // RIGHT
  attachInterrupt(digitalPinToInterrupt(25),leftInterrupt,RISING); 
  attachInterrupt(digitalPinToInterrupt(26),rightInterrupt,RISING); 

  // Web Server Root URL
  server.on("/", HTTP_GET, [](AsyncWebServerRequest *request) {
    // send html stuff to their server 
    request->send(SPIFFS, "/index.html", "text/html");
  });

  server.serveStatic("/", SPIFFS, "/");

  // Start server
  server.begin();
}

void loop() {
  if ((millis() - lastTime) > timerDelay) {
    String sensorReadings = getSensorReadings();
    Serial.print(sensorReadings);
    notifyClients(sensorReadings);

  lastTime = millis();
  Serial.println(WiFi.localIP());

  }
  ws.cleanupClients();
}
